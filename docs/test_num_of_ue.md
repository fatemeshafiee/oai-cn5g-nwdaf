# **NUM_OF_UE** of NETWORK_PERFORMANCE

## Simple example

To calculate number of UEs before NOW, set the following parameters in `swagger viewer`:

 ```json
 apiRoot: http://nwdaf.cnx.eurecom.fr

 event-id: NETWORK_PERFORMANCE

 ana-req:
    { }

 event-filter:
    {
        "nwPerfTypes": ["NUM_OF_UE"]
    }
 ```

The generated `curl` command is:
```bash
# no network area, no ts, active ues before NOW
curl -i -X 'GET' \
  'http://nwdaf.cnx.eurecom.fr/nnwdaf-analyticsinfo/v1/analytics?event-id=NETWORK_PERFORMANCE&ana-req=%7B%0A%20%20%22%22%0A%7D&event-filter=%7B%0A%20%20%20%20%22nwPerfTypes%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%22NUM_OF_UE%22%0A%20%20%20%20%5D%0A%7D' \
  -H 'accept: application/json'
```


## Other examples

Run the following `curl` commands to test number of UEs attached.

Network area information may be present or not; it allows filtering.

A sample of **expected output** can be found [here](https://gitlab.eurecom.fr/development/oai-nwdaf/-/blob/master/examples/nbi_output_num_of_ue.json).

```bash
# network area (mcc=505, mnc=01, tac=1) present, start in august, end in October 30
curl -i -X 'GET' \
  'http://nwdaf.cnx.eurecom.fr/nnwdaf-analyticsinfo/v1/analytics?event-id=NETWORK_PERFORMANCE&ana-req=%7B%0A%20%20%22startTs%22%3A%20%222022-08-01T09%3A15%3A33.018Z%22%2C%0A%20%20%22endTs%22%3A%20%222022-10-30T09%3A15%3A33.018Z%22%0A%7D&event-filter=%7B%0A%20%20%20%20%22networkArea%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22ecgis%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22plmnId%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mcc%22%3A%20%22505%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mnc%22%3A%20%2201%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22eutraCellId%22%3A%20%220000000%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22nid%22%3A%20%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%22ncgis%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22plmnId%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mcc%22%3A%20%22505%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mnc%22%3A%20%2201%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22nid%22%3A%20%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%22gRanNodeIds%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22plmnId%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mcc%22%3A%20%22505%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mnc%22%3A%20%2201%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22n3IwfId%22%3A%20%220%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22gNbId%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22bitLength%22%3A%2032%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22gNBValue%22%3A%20%22000000%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ngeNbId%22%3A%20%22SMacroNGeNB-34B89%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22wagfId%22%3A%20%220%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22tngfId%22%3A%20%220%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22nid%22%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22eNbId%22%3A%20%22SMacroeNB-34B89%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%22tais%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22plmnId%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mcc%22%3A%20%22505%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mnc%22%3A%20%2201%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22tac%22%3A%20%221%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%2C%0A%20%20%20%20%22nwPerfTypes%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%22NUM_OF_UE%22%0A%20%20%20%20%5D%0A%7D' \
  -H 'accept: application/json'
```

```bash
# network area (mcc=505, mnc=01, tac=1) present, start 26/sept/2022 at 11:40 am (France)
curl -i -X 'GET' \
  'http://nwdaf.cnx.eurecom.fr/nnwdaf-analyticsinfo/v1/analytics?event-id=NETWORK_PERFORMANCE&ana-req=%7B%0A%20%20%22startTs%22%3A%20%222022-09-26T09%3A40%3A33.018Z%22%2C%0A%20%20%22endTs%22%3A%20%222022-10-30T09%3A15%3A33.018Z%22%0A%7D&event-filter=%7B%0A%20%20%20%20%22networkArea%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22ecgis%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22plmnId%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mcc%22%3A%20%22505%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mnc%22%3A%20%2201%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22eutraCellId%22%3A%20%220000000%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22nid%22%3A%20%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%22ncgis%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22plmnId%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mcc%22%3A%20%22505%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mnc%22%3A%20%2201%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22nid%22%3A%20%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%22gRanNodeIds%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22plmnId%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mcc%22%3A%20%22505%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mnc%22%3A%20%2201%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22n3IwfId%22%3A%20%220%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22gNbId%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22bitLength%22%3A%2032%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22gNBValue%22%3A%20%22000000%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ngeNbId%22%3A%20%22SMacroNGeNB-34B89%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22wagfId%22%3A%20%220%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22tngfId%22%3A%20%220%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22nid%22%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22eNbId%22%3A%20%22SMacroeNB-34B89%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%22tais%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22plmnId%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mcc%22%3A%20%22505%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mnc%22%3A%20%2201%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22tac%22%3A%20%221%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%2C%0A%20%20%20%20%22nwPerfTypes%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%22NUM_OF_UE%22%0A%20%20%20%20%5D%0A%7D' \
  -H 'accept: application/json'
```

```bash
# no network area, time period, start in august, end in October 30
curl -i -X 'GET' \
  'http://nwdaf.cnx.eurecom.fr/nnwdaf-analyticsinfo/v1/analytics?event-id=NETWORK_PERFORMANCE&ana-req=%7B%0A%20%20%22startTs%22%3A%20%222022-08-01T09%3A15%3A33.018Z%22%2C%0A%20%20%22endTs%22%3A%20%222022-10-30T09%3A15%3A33.018Z%22%0A%7D&event-filter=%7B%0A%20%20%20%20%22nwPerfTypes%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%22NUM_OF_UE%22%0A%20%20%20%20%5D%0A%7D' \
  -H 'accept: application/json'
```

```bash
# no network area, only start-ts, active ues
curl -i -X 'GET' \
  'http://nwdaf.cnx.eurecom.fr/nnwdaf-analyticsinfo/v1/analytics?event-id=NETWORK_PERFORMANCE&ana-req=%7B%0A%20%20%22startTs%22%3A%20%222022-09-26T09%3A40%3A33.018Z%22%0A%7D&event-filter=%7B%0A%20%20%20%20%22nwPerfTypes%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%22NUM_OF_UE%22%0A%20%20%20%20%5D%0A%7D' \
  -H 'accept: application/json'
```

```bash
# no network area, only end-ts, active ues
curl -i -X 'GET' \
  'http://nwdaf.cnx.eurecom.fr/nnwdaf-analyticsinfo/v1/analytics?event-id=NETWORK_PERFORMANCE&ana-req=%7B%0A%20%20%22endTs%22%3A%20%222022-09-26T09%3A40%3A33.018Z%22%0A%7D&event-filter=%7B%0A%20%20%20%20%22nwPerfTypes%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%22NUM_OF_UE%22%0A%20%20%20%20%5D%0A%7D' \
  -H 'accept: application/json'
```

```bash
# bad network area present: mcc=000
curl -i -X 'GET' \
  'http://nwdaf.cnx.eurecom.fr/nnwdaf-analyticsinfo/v1/analytics?event-id=NETWORK_PERFORMANCE&ana-req=%7B%0A%20%20%22startTs%22%3A%20%222022-08-01T09%3A15%3A33.018Z%22%2C%0A%20%20%22endTs%22%3A%20%222022-10-30T09%3A15%3A33.018Z%22%0A%7D&event-filter=%7B%0A%20%20%20%20%22networkArea%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22ecgis%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22plmnId%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mcc%22%3A%20%22000%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mnc%22%3A%20%2201%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22eutraCellId%22%3A%20%220000000%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22nid%22%3A%20%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%22ncgis%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22plmnId%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mcc%22%3A%20%22000%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mnc%22%3A%20%2201%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22nid%22%3A%20%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%22gRanNodeIds%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22plmnId%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mcc%22%3A%20%22000%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mnc%22%3A%20%2201%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22n3IwfId%22%3A%20%220%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22gNbId%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22bitLength%22%3A%2032%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22gNBValue%22%3A%20%22000000%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ngeNbId%22%3A%20%22SMacroNGeNB-34B89%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22wagfId%22%3A%20%220%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22tngfId%22%3A%20%220%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22nid%22%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22eNbId%22%3A%20%22SMacroeNB-34B89%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%22tais%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22plmnId%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mcc%22%3A%20%22000%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mnc%22%3A%20%2201%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22tac%22%3A%20%221%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%2C%0A%20%20%20%20%22nwPerfTypes%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%22NUM_OF_UE%22%0A%20%20%20%20%5D%0A%7D' \
  -H 'accept: application/json'
```
